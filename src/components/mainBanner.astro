---
import Title from "./title.astro";
import Asterisk from "../assets/asterisk.svg";

import rs24Image from "../assets/reversim24-image.png";
import { getImage } from "astro:assets";

const optimizedRS24Image = await getImage({ src: rs24Image, width: 1920 });
const optimizedRS24URL = `url(${optimizedRS24Image.src})`;
---

<script src="https://flackr.github.io/scroll-timeline/dist/scroll-timeline.js"
></script>
<div class="main-banner">
  <div class="hero-container">
    <h2 class="title green">REVERSIM</h2>
    <h2 class="title orange">FALL</h2>
    <h2 class="title blue">SUMMIT<p class="title pink"><Asterisk /></p></h2>
    <a
      class="hero-btn"
      target="_blank"
      href="https://forms.gle/1g5241NGBTaXyAPp8"
    >
      <button> Become a Sponsor! </button>
      <div class="wave"></div>
    </a>
  </div>

  <div class="sponsors card-background card">
    <div class="description-container">
      <p class="event-description" id="about">
        Reversim Summit 2025 (RS25) is a community driven event in Israel for
        software developers, product managers, data scientists and everyone else
        in the software industry. With an enthusiastic team of volunteers we've
        been creating a content-first software conferences since 2013 and
        successfully leading the market. Reversim Summit (RS) is not for profit
        and its sole purpose is to enrich the community with content and
        networking. We are grateful to have such an excellent top of the
        industry team of volunteer moderators and event organizers.
      </p>
      <Title style="margin: 20px 0 15px" title="Sponsors" id="sponsors" />
    </div>
  </div>
</div>

<style lang="scss" define:vars={{ optimizedRS24URL }}>
  .main-banner {
    .hero-container {
      position: relative;
      padding: 40px 10% 100px;
      display: flex;
      flex-direction: column;
      justify-content: center;

      .title {
        font-size: 60px;
        font-weight: 700;
        margin: 0;
        line-height: 1;

        &.green {
          color: var(--green);
          transform: translateX(-42px);
        }
        &.orange {
          color: var(--orange);
          transform: translateX(110px);
        }
        &.blue {
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 12px;
          color: var(--blue);
          transform: translateX(-106px);
        }
        &.pink {
          width: 0.8em;
          svg {
            fill: var(--pink);
          }
        }
      }
    }

    .card-background {
      --border-height: 12px;

      height: 600px;
      width: 100%;
      background-color: #171c3e;
      clip-path: ellipse(133% 100% at 40% 100%);

      position: relative;
      padding: 4em 10% 20px;
      border-bottom: var(--border-height) solid #9e9e9e;

      &::after {
        content: "";
        position: absolute;
        width: 100%;
        height: var(--border-height);

        background-image: linear-gradient(
          to right,
          #e4e4e4 60%,
          rgba(255, 255, 255, 0) 0%
        );
        top: calc(100% + var(--border-height) / 2);
        right: 0;

        background-size: 12px 2px;
        background-repeat: repeat-x;

        animation: scrollBackground linear both;
        animation-timeline: scroll(block root);
      }

      @keyframes scrollBackground {
        0% {
          background-position: 0% 0%;
        }
        100% {
          background-position: 12% 0%;
        }
      }

      &::before {
        content: "";
        filter: grayscale(1);
        background: var(--optimizedRS24URL);
        clip-path: ellipse(133% 100% at 40% 100%);

        background-size: 128%;
        background-position: center;
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        right: 0;
        opacity: 0.3;
      }

      .description-container {
        max-width: var(--max-container-width);
        margin: auto;

        .event-description {
          color: white;
          font-weight: 500;
          font-size: 12px;
          max-width: 64%;
        }
        .title-container {
          margin-top: 40px;
        }
      }
    }
  }
  .hero-btn {
    position: relative;
    border: none;
    width: 286px;
    align-self: center;
    justify-self: center;
    border-radius: 50px;
    margin-top: 60px;

    background-color: #bc659a;
    cursor: pointer;
    box-shadow: 4px 4px 5px #aaaeaf;

    .wave {
      position: absolute;
      background-color: #ba4e6c;
      border-radius: 30px 30px 0;
      width: 50%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 1;

      // TODO - improve wave
      &::after {
        content: "";
        content: "";
        position: absolute;
        width: 17px;
        height: 100%;
        right: 0px;
        top: 0px;
        background-color: #bc659a;
        border-radius: 0px 500%;
        rotate: -2deg;
      }
      &::before {
        content: "";
        content: "";
        position: absolute;
        width: 17px;
        height: 100%;
        right: -5px;
        top: 0px;
        background-color: #bc659a;
        border-radius: 0px 500%;
        rotate: -2deg;
      }
    }

    button {
      color: white;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 18px;

      font-weight: bold;
      padding: 10px 32px;
      margin: auto;
      display: block;

      position: relative;
      z-index: 2;

      border-right: 3px solid white;
      border-left: 3px solid white;
    }
  }
</style>
