---
import type { GetStaticPaths } from "astro";
import { getImage } from "astro:assets";
import Layout from "../../layouts/Layout.astro";
import slugify from "slug";
import { getSponsors } from "../../helpers/getSponsors";

export const getStaticPaths = (async () => {
  const sponsors = await getSponsors();
  
  return sponsors.map((sponsor) => ({
    params: {
      sponsor: sponsor.slug,
    },
    props: { ...sponsor },
  }));
}) satisfies GetStaticPaths;

const {
  companyName,
  desorption,
  website,
  companyNameLogo,
  carouselImages,
  technologyStack,
  openPositions,
  testimonials,
  linkedin,
  twitter,
  bluesky,
  facebook,
  github,
  instagram,
  medium,
  youtube,
  image,
  slug
} = Astro.props;

const socialList: Record<string, string | undefined> = {
  linkedin,
  twitter,
  bluesky,
  facebook,
  github,
  instagram,
  website,
  medium,
  youtube,
};

const companyImage = await getImage({ src: image, height: 500, width: 500 });
---

<Layout />

<style lang="scss">
  .talks-container {
    margin-top: 60px;

    .talk-name {
      display: block;
      padding-top: 8px;

      &:hover {
        text-decoration: underline;
      }
    }
  }
</style>
